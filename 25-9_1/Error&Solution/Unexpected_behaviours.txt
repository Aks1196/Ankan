PS D:\Terraform\Infrastructure\25-9_1> terraform apply --auto-approve                                                                                                                                                        
module.resource_groups["rg1"].azurerm_resource_group.rg: Refreshing state... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1]
module.resource_groups["rg2"].azurerm_resource_group.rg: Refreshing state... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg2]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Refreshing state... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg2/providers/Microsoft.Storage/storageAccounts/matarani]
module.storage_accounts["storage1"].azurerm_storage_account.storage: Refreshing state... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1/providers/Microsoft.Storage/storageAccounts/bondhurbabakenomatal]

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  ~ update in-place
-/+ destroy and then create replacement

Terraform will perform the following actions:

  # module.storage_accounts["storage1"].azurerm_storage_account.storage will be updated in-place
  ~ resource "azurerm_storage_account" "storage" {
      ~ account_replication_type           = "GRS" -> "LRS"
        id                                 = "/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1/providers/Microsoft.Storage/storageAccounts/bondhurbabakenomatal"
        name                               = "bondhurbabakenomatal"
        tags                               = {}
        # (96 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.storage_accounts["storage2"].azurerm_storage_account.storage must be replaced
-/+ resource "azurerm_storage_account" "storage" {
      ~ access_tier                        = "Hot" -> (known after apply)
      ~ account_replication_type           = "LRS" -> "GRS"
      ~ id                                 = "/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg2/providers/Microsoft.Storage/storageAccounts/matarani" -> (known after apply)
      ~ large_file_share_enabled           = false -> (known after apply)
      ~ location                           = "eastus" -> "westus" # forces replacement
        name                               = "matarani"
      ~ primary_access_key                 = (sensitive value)
      ~ primary_blob_connection_string     = (sensitive value)
      ~ primary_blob_endpoint              = "https://matarani.blob.core.windows.net/" -> (known after apply)
      ~ primary_blob_host                  = "matarani.blob.core.windows.net" -> (known after apply)
      + primary_blob_internet_endpoint     = (known after apply)
      + primary_blob_internet_host         = (known after apply)
      + primary_blob_microsoft_endpoint    = (known after apply)
      + primary_blob_microsoft_host        = (known after apply)
      ~ primary_connection_string          = (sensitive value)
      ~ primary_dfs_endpoint               = "https://matarani.dfs.core.windows.net/" -> (known after apply)
      ~ primary_dfs_host                   = "matarani.dfs.core.windows.net" -> (known after apply)
      + primary_dfs_internet_endpoint      = (known after apply)
      + primary_dfs_internet_host          = (known after apply)
      + primary_dfs_microsoft_endpoint     = (known after apply)
      + primary_dfs_microsoft_host         = (known after apply)
      ~ primary_file_endpoint              = "https://matarani.file.core.windows.net/" -> (known after apply)
      ~ primary_file_host                  = "matarani.file.core.windows.net" -> (known after apply)
      + primary_file_internet_endpoint     = (known after apply)
      + primary_file_internet_host         = (known after apply)
      + primary_file_microsoft_endpoint    = (known after apply)
      + primary_file_microsoft_host        = (known after apply)
      ~ primary_location                   = "eastus" -> (known after apply)
      ~ primary_queue_endpoint             = "https://matarani.queue.core.windows.net/" -> (known after apply)
      ~ primary_queue_host                 = "matarani.queue.core.windows.net" -> (known after apply)
      + primary_queue_microsoft_endpoint   = (known after apply)
      + primary_queue_microsoft_host       = (known after apply)
      ~ primary_table_endpoint             = "https://matarani.table.core.windows.net/" -> (known after apply)
      ~ primary_table_host                 = "matarani.table.core.windows.net" -> (known after apply)
      + primary_table_microsoft_endpoint   = (known after apply)
      + primary_table_microsoft_host       = (known after apply)
      ~ primary_web_endpoint               = "https://matarani.z13.web.core.windows.net/" -> (known after apply)
      ~ primary_web_host                   = "matarani.z13.web.core.windows.net" -> (known after apply)
      + primary_web_internet_endpoint      = (known after apply)
      + primary_web_internet_host          = (known after apply)
      + primary_web_microsoft_endpoint     = (known after apply)
      + primary_web_microsoft_host         = (known after apply)
      ~ resource_group_name                = "rg2" -> "rg1" # forces replacement
      ~ secondary_access_key               = (sensitive value)
      + secondary_blob_connection_string   = (sensitive value)
      + secondary_blob_endpoint            = (known after apply)
      + secondary_blob_host                = (known after apply)
      + secondary_blob_internet_endpoint   = (known after apply)
      + secondary_blob_internet_host       = (known after apply)
      + secondary_blob_microsoft_endpoint  = (known after apply)
      + secondary_blob_microsoft_host      = (known after apply)
      ~ secondary_connection_string        = (sensitive value)
      + secondary_dfs_endpoint             = (known after apply)
      + secondary_dfs_host                 = (known after apply)
      + secondary_dfs_internet_endpoint    = (known after apply)
      + secondary_dfs_internet_host        = (known after apply)
      + secondary_dfs_microsoft_endpoint   = (known after apply)
      + secondary_dfs_microsoft_host       = (known after apply)
      + secondary_file_endpoint            = (known after apply)
      + secondary_file_host                = (known after apply)
      + secondary_file_internet_endpoint   = (known after apply)
      + secondary_file_internet_host       = (known after apply)
      + secondary_file_microsoft_endpoint  = (known after apply)
      + secondary_file_microsoft_host      = (known after apply)
      + secondary_location                 = (known after apply)
      + secondary_queue_endpoint           = (known after apply)
      + secondary_queue_host               = (known after apply)
      + secondary_queue_microsoft_endpoint = (known after apply)
      + secondary_queue_microsoft_host     = (known after apply)
      + secondary_table_endpoint           = (known after apply)
      + secondary_table_host               = (known after apply)
      + secondary_table_microsoft_endpoint = (known after apply)
      + secondary_table_microsoft_host     = (known after apply)
      + secondary_web_endpoint             = (known after apply)
      + secondary_web_host                 = (known after apply)
      + secondary_web_internet_endpoint    = (known after apply)
      + secondary_web_internet_host        = (known after apply)
      + secondary_web_microsoft_endpoint   = (known after apply)
      + secondary_web_microsoft_host       = (known after apply)
      - tags                               = {} -> null
        # (20 unchanged attributes hidden)

      ~ blob_properties (known after apply)
      - blob_properties {
          - change_feed_enabled           = false -> null
          - change_feed_retention_in_days = 0 -> null
          - last_access_time_enabled      = false -> null
          - versioning_enabled            = false -> null
            # (1 unchanged attribute hidden)
        }

      ~ network_rules (known after apply)

      ~ queue_properties (known after apply)
      - queue_properties {
          - hour_metrics {
              - enabled               = false -> null
              - include_apis          = false -> null
              - retention_policy_days = 0 -> null
              - version               = "1.0" -> null
            }
          - logging {
              - delete                = false -> null
              - read                  = false -> null
              - retention_policy_days = 0 -> null
              - version               = "1.0" -> null
              - write                 = false -> null
            }
          - minute_metrics {
              - enabled               = false -> null
              - include_apis          = false -> null
              - retention_policy_days = 0 -> null
              - version               = "1.0" -> null
            }
        }

      ~ routing (known after apply)

      ~ share_properties (known after apply)
      - share_properties {
          - retention_policy {
              - days = 7 -> null
            }
        }

      ~ static_website (known after apply)
    }

Plan: 1 to add, 1 to change, 1 to destroy.
module.storage_accounts["storage2"].azurerm_storage_account.storage: Destroying... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg2/providers/Microsoft.Storage/storageAccounts/matarani]
module.storage_accounts["storage1"].azurerm_storage_account.storage: Modifying... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1/providers/Microsoft.Storage/storageAccounts/bondhurbabakenomatal]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Destruction complete after 4s
module.storage_accounts["storage2"].azurerm_storage_account.storage: Creating...
module.storage_accounts["storage1"].azurerm_storage_account.storage: Still modifying... [id=/subscriptions/d73ab938-2a60-42e2-87cd-...e/storageAccounts/bondhurbabakenomatal, 10s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [10s elapsed]
module.storage_accounts["storage1"].azurerm_storage_account.storage: Still modifying... [id=/subscriptions/d73ab938-2a60-42e2-87cd-...e/storageAccounts/bondhurbabakenomatal, 20s elapsed]
module.storage_accounts["storage1"].azurerm_storage_account.storage: Modifications complete after 23s [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1/providers/Microsoft.Storage/storageAccounts/bondhurbabakenomatal]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [20s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [30s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [40s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [50s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [1m0s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [1m10s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [1m20s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Creation complete after 1m29s [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1/providers/Microsoft.Storage/storageAccounts/matarani]

Apply complete! Resources: 1 added, 1 changed, 1 destroyed.
PS D:\Terraform\Infrastructure\25-9_1> terraform apply --auto-approve
module.resource_groups["rg2"].azurerm_resource_group.rg: Refreshing state... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg2]
module.resource_groups["rg1"].azurerm_resource_group.rg: Refreshing state... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1]
module.storage_accounts["storage1"].azurerm_storage_account.storage: Refreshing state... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1/providers/Microsoft.Storage/storageAccounts/bondhurbabakenomatal]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Refreshing state... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1/providers/Microsoft.Storage/storageAccounts/matarani]

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
-/+ destroy and then create replacement

Terraform will perform the following actions:

  # module.storage_accounts["storage2"].azurerm_storage_account.storage must be replaced
-/+ resource "azurerm_storage_account" "storage" {
      ~ access_tier                        = "Hot" -> (known after apply)
      ~ id                                 = "/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1/providers/Microsoft.Storage/storageAccounts/matarani" -> (known after apply)
      ~ large_file_share_enabled           = false -> (known after apply)
      ~ location                           = "westus" -> "eastus" # forces replacement
        name                               = "matarani"
      ~ primary_access_key                 = (sensitive value)
      ~ primary_blob_connection_string     = (sensitive value)
      ~ primary_blob_endpoint              = "https://matarani.blob.core.windows.net/" -> (known after apply)
      ~ primary_blob_host                  = "matarani.blob.core.windows.net" -> (known after apply)
      + primary_blob_internet_endpoint     = (known after apply)
      + primary_blob_internet_host         = (known after apply)
      + primary_blob_microsoft_endpoint    = (known after apply)
      + primary_blob_microsoft_host        = (known after apply)
      ~ primary_connection_string          = (sensitive value)
      ~ primary_dfs_endpoint               = "https://matarani.dfs.core.windows.net/" -> (known after apply)
      ~ primary_dfs_host                   = "matarani.dfs.core.windows.net" -> (known after apply)
      + primary_dfs_internet_endpoint      = (known after apply)
      + primary_dfs_internet_host          = (known after apply)
      + primary_dfs_microsoft_endpoint     = (known after apply)
      + primary_dfs_microsoft_host         = (known after apply)
      ~ primary_file_endpoint              = "https://matarani.file.core.windows.net/" -> (known after apply)
      ~ primary_file_host                  = "matarani.file.core.windows.net" -> (known after apply)
      + primary_file_internet_endpoint     = (known after apply)
      + primary_file_internet_host         = (known after apply)
      + primary_file_microsoft_endpoint    = (known after apply)
      + primary_file_microsoft_host        = (known after apply)
      ~ primary_location                   = "westus" -> (known after apply)
      ~ primary_queue_endpoint             = "https://matarani.queue.core.windows.net/" -> (known after apply)
      ~ primary_queue_host                 = "matarani.queue.core.windows.net" -> (known after apply)
      + primary_queue_microsoft_endpoint   = (known after apply)
      + primary_queue_microsoft_host       = (known after apply)
      ~ primary_table_endpoint             = "https://matarani.table.core.windows.net/" -> (known after apply)
      ~ primary_table_host                 = "matarani.table.core.windows.net" -> (known after apply)
      + primary_table_microsoft_endpoint   = (known after apply)
      + primary_table_microsoft_host       = (known after apply)
      ~ primary_web_endpoint               = "https://matarani.z22.web.core.windows.net/" -> (known after apply)
      ~ primary_web_host                   = "matarani.z22.web.core.windows.net" -> (known after apply)
      + primary_web_internet_endpoint      = (known after apply)
      + primary_web_internet_host          = (known after apply)
      + primary_web_microsoft_endpoint     = (known after apply)
      + primary_web_microsoft_host         = (known after apply)
      ~ resource_group_name                = "rg1" -> "rg2" # forces replacement
      ~ secondary_access_key               = (sensitive value)
      + secondary_blob_connection_string   = (sensitive value)
      + secondary_blob_endpoint            = (known after apply)
      + secondary_blob_host                = (known after apply)
      + secondary_blob_internet_endpoint   = (known after apply)
      + secondary_blob_internet_host       = (known after apply)
      + secondary_blob_microsoft_endpoint  = (known after apply)
      + secondary_blob_microsoft_host      = (known after apply)
      ~ secondary_connection_string        = (sensitive value)
      + secondary_dfs_endpoint             = (known after apply)
      + secondary_dfs_host                 = (known after apply)
      + secondary_dfs_internet_endpoint    = (known after apply)
      + secondary_dfs_internet_host        = (known after apply)
      + secondary_dfs_microsoft_endpoint   = (known after apply)
      + secondary_dfs_microsoft_host       = (known after apply)
      + secondary_file_endpoint            = (known after apply)
      + secondary_file_host                = (known after apply)
      + secondary_file_internet_endpoint   = (known after apply)
      + secondary_file_internet_host       = (known after apply)
      + secondary_file_microsoft_endpoint  = (known after apply)
      + secondary_file_microsoft_host      = (known after apply)
      ~ secondary_location                 = "eastus" -> (known after apply)
      + secondary_queue_endpoint           = (known after apply)
      + secondary_queue_host               = (known after apply)
      + secondary_queue_microsoft_endpoint = (known after apply)
      + secondary_queue_microsoft_host     = (known after apply)
      + secondary_table_endpoint           = (known after apply)
      + secondary_table_host               = (known after apply)
      + secondary_table_microsoft_endpoint = (known after apply)
      + secondary_table_microsoft_host     = (known after apply)
      + secondary_web_endpoint             = (known after apply)
      + secondary_web_host                 = (known after apply)
      + secondary_web_internet_endpoint    = (known after apply)
      + secondary_web_internet_host        = (known after apply)
      + secondary_web_microsoft_endpoint   = (known after apply)
      + secondary_web_microsoft_host       = (known after apply)
      - tags                               = {} -> null
        # (21 unchanged attributes hidden)

      ~ blob_properties (known after apply)
      - blob_properties {
          - change_feed_enabled           = false -> null
          - change_feed_retention_in_days = 0 -> null
          - last_access_time_enabled      = false -> null
          - versioning_enabled            = false -> null
            # (1 unchanged attribute hidden)
        }

      ~ network_rules (known after apply)

      ~ queue_properties (known after apply)
      - queue_properties {
          - hour_metrics {
              - enabled               = false -> null
              - include_apis          = false -> null
              - retention_policy_days = 0 -> null
              - version               = "1.0" -> null
            }
          - logging {
              - delete                = false -> null
              - read                  = false -> null
              - retention_policy_days = 0 -> null
              - version               = "1.0" -> null
              - write                 = false -> null
            }
          - minute_metrics {
              - enabled               = false -> null
              - include_apis          = false -> null
              - retention_policy_days = 0 -> null
              - version               = "1.0" -> null
            }
        }

      ~ routing (known after apply)

      ~ share_properties (known after apply)
      - share_properties {
          - retention_policy {
              - days = 7 -> null
            }
        }

      ~ static_website (known after apply)
    }

Plan: 1 to add, 0 to change, 1 to destroy.
module.storage_accounts["storage2"].azurerm_storage_account.storage: Destroying... [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg1/providers/Microsoft.Storage/storageAccounts/matarani]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Destruction complete after 5s
module.storage_accounts["storage2"].azurerm_storage_account.storage: Creating...
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [10s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [20s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [30s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [40s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [50s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [1m0s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [1m10s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [1m20s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Still creating... [1m30s elapsed]
module.storage_accounts["storage2"].azurerm_storage_account.storage: Creation complete after 1m30s [id=/subscriptions/d73ab938-2a60-42e2-87cd-9362d4e73029/resourceGroups/rg2/providers/Microsoft.Storage/storageAccounts/matarani]

Apply complete! Resources: 1 added, 0 changed, 1 destroyed.